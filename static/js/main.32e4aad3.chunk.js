(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{182:function(e,t,n){e.exports=n.p+"static/media/logo_ethereum.2b470564.svg"},188:function(e,t,n){e.exports=n(503)},193:function(e,t,n){},195:function(e,t,n){},239:function(e,t){},241:function(e,t){},287:function(e,t){},338:function(e,t){},467:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=467},503:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(181),c=n.n(o),s=(n(193),n(68)),l=n(69),i=n(72),u=n(70),h=n(71),d=n(51),m=n(182),p=n.n(m),f=(n(195),n(197),n(32)),w=n.n(f),b=n(37),g=n.n(b),v=n(183),E=n(11),k=n.n(E),S=n(73),y=n(49),C=(n(472),n(15)),x=n.n(C),A=n(505),O=n(506),N=n(507),_=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={connected:n.props.connected,account:n.props.account,alert:null,balance:"",contract_called:!1,receiver_address:"",number_of_eth:0,hours:0},n.checkForUpdate=function(e){n.setState({account:e.selectedAddress}),n.getBalance()},n.hideAlert=function(){n.setState({alert:null})},n.ShowPopUpWarning=function(){n.setState({alert:r.a.createElement(g.a,{warning:!0,title:"Please Connect to Rinkeby!",onConfirm:n.hideAlert})})},n.ShowPopUpSuccess=function(e){n.setState({alert:r.a.createElement(g.a,{success:!0,title:"Transaction Success",onConfirm:n.hideAlert},e)})},n.sendWithoutDelay=Object(S.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.web3,e.next=3,t.eth.sendTransaction({from:n.state.account,to:n.state.receiver_address,value:t.utils.toWei(n.state.number_of_eth,"ether")}).on("transactionHash",function(e){}).on("receipt",function(e){}).on("confirmation",function(e,t){}).on("error",console.error);case 3:case"end":return e.stop()}},e,this)})),n.handleSubmit=function(){var e=Object(S.a)(k.a.mark(function e(t){var a,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=n.props.web3,r=new y.EAC(a),console.log(typeof n.state.hours),!(n.state.hours>0)){e.next=9;break}return e.next=7,n.scheduleTransaction(a,r);case 7:e.next=11;break;case 9:return e.next=11,n.sendWithoutDelay();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.handleInputChange=function(e){e.preventDefault(),n.setState(Object(v.a)({},e.target.name,e.target.value))},n.props.web3.currentProvider.publicConfigStore.on("update",n.checkForUpdate),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"scheduleTransaction",value:function(){var e=Object(S.a)(k.a.mark(function e(t,n){var a,r,o,c,s;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=60*this.state.hours*4,e.t0=x.a,e.next=4,t.eth.getBlockNumber();case 4:return e.t1=e.sent,e.t2=a,e.t3=e.t1+e.t2,r=new e.t0(e.t3),e.next=10,n.schedule({from:this.state.account,toAddress:this.state.receiver_address,timestampScheduling:!1,callGas:new x.a(1e6),callValue:this.state.number_of_eth*new x.a(Math.pow(10,18)),windowStart:r});case 10:if(o=e.sent,console.log(o),!0!==o.status){e.next=19;break}return c=n.transactionRequestFromReceipt(o),e.next=16,c.fillData();case 16:console.log(c),s="Address of scheduled transaction is:"+c.address+"\n",this.ShowPopUpSuccess(s);case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getBalance",value:function(){var e=this.props.web3,t=this;e.eth.getBalance(this.state.account).then(function(n){var a=e.utils.fromWei(n,"ether");t.setState({balance:a})})}},{key:"render",value:function(){return console.log("Render called"),r.a.createElement(A.a,null,this.state.alert,r.a.createElement(O.a,{className:"show-grid text-center"},r.a.createElement(N.a,{xs:12,md:12})),r.a.createElement(O.a,{className:"show-grid mt-5"},r.a.createElement(N.a,{xs:6,md:6},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null," Receiver's address "),r.a.createElement("p",null," ",r.a.createElement("input",{name:"receiver_address",type:"text",placeholder:"Receiver Address",onChange:this.handleInputChange})," "),r.a.createElement("p",null," Amount to send "),r.a.createElement("p",null," ",r.a.createElement("input",{name:"number_of_eth",type:"number",step:"any",placeholder:"Amount",min:"0",onChange:this.handleInputChange})," "),r.a.createElement("p",null," Send Later "),r.a.createElement("p",null," ",r.a.createElement("input",{name:"hours",type:"number",placeholder:"Hours to delay",min:"0",onChange:this.handleInputChange})," "),r.a.createElement("p",null," If 0, the transaction will be sent directly "),r.a.createElement("p",null,r.a.createElement("button",{className:"btn btn-secondary mt-2"},"Create a delayed transaction")))),r.a.createElement(N.a,{xs:6,md:4},r.a.createElement("p",null,"Your Account address:"),r.a.createElement("p",{className:"font-weight-bold"},this.state.account),r.a.createElement("p",null,"Your Balance address:"),r.a.createElement("p",{className:"font-weight-bold"},this.state.balance," ETH"))))}}]),t}(a.Component),j=Object(f.withWeb3)(_),P=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={account:null,alert:null,connected:!1,web3:null},n.hideAlert=function(){n.setState({alert:null})},n.ShowPopUpWarning=function(){n.setState({alert:r.a.createElement(g.a,{warning:!0,title:"Warning!",onConfirm:n.hideAlert},"Please connect to Kovan")})},n.ShowPopUpSuccess=function(){n.setState({alert:r.a.createElement(g.a,{success:!0,title:"You are connected to Rinkeby!",onConfirm:n.hideAlert})})},n.getClient_getCurrentNetwork=function(e){switch(e){case"1":console.log("This is the Main network."),n.ShowPopUpWarning();break;case"2":n.ShowPopUpWarning(),console.log("This is the deprecated Morden test network.");break;case"3":n.ShowPopUpWarning(),console.log("This is the Ropsten test network.");break;case"4":n.ShowPopUpWarning(),console.log("This is the Rinkeby test network.");break;case"42":console.log("This is the Kovan test network.");break;default:console.log("This is an unknown network.")}},n.checkForUpdate=function(e){n.setState({account:e.selectedAddress})},n.connectToMetaMask=function(){var e=n.props.web3;n.setState({web3:e});var t=Object(d.a)(Object(d.a)(n));window.ethereum?(console.log("Ethereum"),window.ethereum.enable().then(function(a){t.setState({account:a[0]}),t.getClient_getCurrentNetwork(e.eth.givenProvider.networkVersion),"42"===e.eth.givenProvider.networkVersion&&n.setState({connected:!0})})):console.log("Metamask")},n.connected_state=function(){return n.state.connected?r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h3",{className:"text-center text-white"},"Crypto Management Ethereum")),r.a.createElement(j,{account:n.state.account,connected:n.state.connected,web3:n.state.web3})):r.a.createElement("div",{className:"App text-center"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h3",{className:"text-center text-white"},"Crypto Management Ethereum")),r.a.createElement("div",{className:"mt-5 container-fluid"},r.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("button",{className:"mt-5 btn btn-primary",onClick:n.connectToMetaMask},"Connect on Kovan"))),n.state.alert)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.connected_state()}}]),t}(a.Component),W=Object(f.withWeb3)(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(50),U=n.n(T);c.a.render(r.a.createElement(w.a,{defaultProvider:function(e){e(new U.a(new U.a.providers.HttpProvider("https://kovan.infura.io/v3/4cb7de1b186f49f5a300795919445ab0")))},loading:"Loading...",error:function(e){return"Connection error: ".concat(e.message)}},r.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[188,2,1]]]);
//# sourceMappingURL=main.32e4aad3.chunk.js.map